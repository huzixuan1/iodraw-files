```mermaid
flowchart TD

A[Start: SqrtKeypointVio::process()] --> B{是否初始化?}
B -- 否 --> C[调用 vioInitialize()]
C --> D{初始化成功?}
D -- 否 --> E[输出空结果，返回]
D -- 是 --> F[设置 initialized_ = true]

B -- 是 --> G[更新 cur_t_ns_, prev_t_ns_]
G --> H[构造 OpticalFlowResult]
H --> I[调用 processImuMeas() 处理 IMU 数据]
I --> J[调用 processVisionMeas() 处理视觉数据]
J --> K[进行滑动窗口优化（solveData）]
K --> L{是否为关键帧?}
L -- 是 --> M[添加关键帧，更新 state]
L -- 否 --> N[跳过关键帧更新]
M --> O[更新 LandmarkDB]
N --> O
O --> P[生成 SlamOutput]
P --> Q[End]

```