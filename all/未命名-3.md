```mermaid
%% graph TD
%%     A[SqrtKeypointVio::process] --> B{Is initialized}
%%     B -- No --> C[vioInitialize]
%%     C --> D{Initialization success}
%%     D -- No --> E[Return empty SlamOutput]
%%     D -- Yes --> F[Set initialized = true]
%%     F --> G[Update timestamps: cur_t_ns_, prev_t_ns_]
    
    
%%     B -- Yes --> G

%%     G --> H[Build OpticalFlowResult from track/detect]
%%     H --> I[processImuMeas]
%%     I --> J[processVisionMeas]
%%     J --> K[Solve Optimization with Sliding Window]

%%     K --> L{Is keyframe}
%%     L -- Yes --> M[Add Keyframe + Update IMU State]
%%     L -- No --> N[Skip Keyframe Update]

%%     M --> O[Update Landmark Database]
%%     N --> O

%%     O --> P[Generate SlamOutput]
%%     P --> Q[Return result]


%% graph TD
%%     A[SqrtKeypointVio::process] --> B{Is initialized}
%%     B -- No --> C[vioInitialize & Check success]
%%     C -- Fail --> D[Return empty result]
%%     C -- Success --> E[Set initialized & Update timestamps]
    
%%     B -- Yes --> E

%%     E --> F[Process visual & IMU input]
%%     F --> G[Run optimization]
%%     G --> H{Is keyframe?}
%%     H -- Yes --> I[Add keyframe & update map]
%%     H -- No --> J[Skip keyframe update]

%%     I --> K[Generate SlamOutput]
%%     J --> K
%%     K --> L[Return result]


graph TD
    A[process(] --> B[cvtOpticalFlow]
    B --> C{Is initialized?}

    C -- No --> D[vioInitialize]
    D --> E{Initialization success?}
    E -- No --> F[Return empty SlamOutput]
    E -- Yes --> G[Set initialized = true]

    C -- Yes --> H[zuptCheck]

    G --> H
    H --> I[processImuMeas]
    I --> J[processVisionMeas]
    J --> K[Return SlamOutput]

```